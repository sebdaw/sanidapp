var SimpleSwitch;(()=>{"use strict";var e={d:(t,i)=>{for(var s in i)e.o(i,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:i[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{Switch:()=>i,init:()=>s,toggle:()=>a});class i{constructor(e){this.disabled=!1,this.element=e.element||document.querySelector(e.selector),this.isMaterial=void 0!==e.material&&e.material,this.checked=this.element.checked,this.matchSizeToFont=void 0!==e.matchSizeToFont&&e.matchSizeToFont,this.element.dataset.material&&"true"===this.element.dataset.material&&(this.isMaterial=!0),this.setup(),this.element["_simple-switch-ref"]=this}toggle(){this.checked=this.track.classList.toggle(i.CHECKED_CLASS_NAME),this.syncState()}setup(){this.track=document.createElement("button"),this.handle=document.createElement("span"),this.element.classList.add("_simple-switch-checkbox"),this.track.classList.add("_simple-switch-track"),this.handle.classList.add("handle"),this.isMaterial&&this.track.classList.add("_material"),this.checked&&this.track.classList.add(i.CHECKED_CLASS_NAME),this.checkboxDisabled(!!this.element.disabled),this.track.setAttribute("tabindex","-1"),this.bind(),this.track.appendChild(this.handle),this.element.insertAdjacentElement("afterend",this.track),this.updateSize()}updateSize(){if(!this.matchSizeToFont)return;const e=window.getComputedStyle(this.track)["font-size"];this.track.style.setProperty("--simple-switch_size",e)}bind(){this.track.addEventListener("click",this.handleTrackClick.bind(this),!1),this.element.addEventListener("focus",this.handleElementFocus.bind(this),!1),this.element.addEventListener("blur",this.handleElementBlur.bind(this),!1),this.element.addEventListener("click",this.handleElementClick.bind(this),!1),this.observer=new MutationObserver(this.handleMutation.bind(this)),this.observer.observe(this.element,{attributes:!0})}checkboxFocused(e){this.track.classList.add(i.FOCUSED_CLASS_NAME)}checkboxBlurred(e){this.track.classList.remove(i.FOCUSED_CLASS_NAME)}trackClicked(e){this.toggle()}checkboxToggled(e){this.toggle()}checkboxDisabled(e){this.disabled=e,this.disabled?this.track.classList.add(i.DISABLED_CLASS_NAME):this.track.classList.remove(i.DISABLED_CLASS_NAME)}syncState(){this.element.checked=this.checked,this.dispatchEvent()}dispatchEvent(){const e=new Event("change");this.element.dispatchEvent(e);const t=new Event("input");this.element.dispatchEvent(t)}handleTrackClick(e){this.disabled?e.preventDefault():this.trackClicked(e)}handleElementFocus(e){this.checkboxFocused(e)}handleElementBlur(e){this.checkboxBlurred(e)}handleElementClick(e){this.disabled?e.preventDefault():this.checkboxToggled(e)}handleMutation(e){e.forEach((e=>{if("attributes"===e.type&&"disabled"===e.attributeName){const t=!!e.target.attributes.disabled;this.checkboxDisabled(t)}}))}}function s(e={}){const t=document.querySelectorAll("[data-type='simple-switch']:not(._simple-switch-checkbox)");for(const s of t)new i(Object.assign({element:s},e))}function a(e,t){void 0!==t&&!!e.checked===t||e["_simple-switch-ref"].toggle()}i.CHECKED_CLASS_NAME="on",i.FOCUSED_CLASS_NAME="focus",i.DISABLED_CLASS_NAME="_simple-switch_disabled",SimpleSwitch=t})();